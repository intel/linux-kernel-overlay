From 6ecbf193d5662a9af6c6c2289470d98d767ce5b4 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Tue, 27 Jul 2021 00:06:34 +0800
Subject: [PATCH 24/77] Revert "drm/radeon: Call radeon_suspend_kms() in
 radeon_pci_shutdown() for Loongson64"

This reverts commit 0d50d93d05d6571347f3ab9d28d0b80e5d142d81.
---
 drivers/gpu/drm/radeon/radeon_drv.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/gpu/drm/radeon/radeon_drv.c b/drivers/gpu/drm/radeon/radeon_drv.c
index e9df5e8ef0a5..4cd30613fa1d 100644
--- a/drivers/gpu/drm/radeon/radeon_drv.c
+++ b/drivers/gpu/drm/radeon/radeon_drv.c
@@ -416,13 +416,13 @@ radeon_pci_shutdown(struct pci_dev *pdev)
 	if (radeon_device_is_virtual())
 		radeon_pci_remove(pdev);
 
-#if defined(CONFIG_PPC64) || defined(CONFIG_MACH_LOONGSON64)
+#ifdef CONFIG_PPC64
 	/*
 	 * Some adapters need to be suspended before a
 	 * shutdown occurs in order to prevent an error
-	 * during kexec, shutdown or reboot.
-	 * Make this power and Loongson specific because
-	 * it breaks some other boards.
+	 * during kexec.
+	 * Make this power specific becauase it breaks
+	 * some non-power boards.
 	 */
 	radeon_suspend_kms(pci_get_drvdata(pdev), true, true, false);
 #endif
-- 
2.25.1

