From 55182ff745d07fc078e2fd55c72785b770ba3184 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Thu, 7 Jan 2021 11:21:01 +0800
Subject: [PATCH 24/42] Revert "drm/msm/dp: do not notify audio subsystem if
 sink doesn't support audio"

This reverts commit 56b491d7de00c7c5e87edf58482a12eb2749aa1c.
---
 drivers/gpu/drm/msm/dp/dp_display.c | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

diff --git a/drivers/gpu/drm/msm/dp/dp_display.c b/drivers/gpu/drm/msm/dp/dp_display.c
index fe0279542a1c..8703c63d85c8 100644
--- a/drivers/gpu/drm/msm/dp/dp_display.c
+++ b/drivers/gpu/drm/msm/dp/dp_display.c
@@ -563,14 +563,7 @@ static int dp_connect_pending_timeout(struct dp_display_private *dp, u32 data)
 static void dp_display_handle_plugged_change(struct msm_dp *dp_display,
 		bool plugged)
 {
-	struct dp_display_private *dp;
-
-	dp = container_of(dp_display,
-			struct dp_display_private, dp_display);
-
-	/* notify audio subsystem only if sink supports audio */
-	if (dp_display->plugged_cb && dp_display->codec_dev &&
-			dp->audio_supported)
+	if (dp_display->plugged_cb && dp_display->codec_dev)
 		dp_display->plugged_cb(dp_display->codec_dev, plugged);
 }
 
-- 
2.25.1

