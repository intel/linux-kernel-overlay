From 1fb68b6f147219b8c7df68ea6c00fa28b211e588 Mon Sep 17 00:00:00 2001
From: Evan Quan <evan.quan@amd.com>
Date: Wed, 28 Oct 2020 10:33:04 +0800
Subject: [PATCH 0790/1714] drm/amd/pm: fix compile warnings about variable
 used uninitialized

Fix the compile warnings below:
>> drivers/gpu/drm/amd/amdgpu/../pm/powerplay/hwmgr/smu7_hwmgr.c:1743:13: warning: variable 'min' is used uninitialized whenever 'if' condition is false [-Wsometimes-uninitialized]
>> drivers/gpu/drm/amd/amdgpu/../pm/powerplay/hwmgr/smu7_hwmgr.c:1743:13: warning: variable 'max' is used uninitialized whenever 'if' condition is false [-Wsometimes-uninitialized]

Signed-off-by: Evan Quan <evan.quan@amd.com>
Reported-by: kernel test robot <lkp@intel.com>
Reviewed-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
---
 drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu7_hwmgr.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu7_hwmgr.c b/drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu7_hwmgr.c
index 0b9083c9067a..53111c6bbcc9 100644
--- a/drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu7_hwmgr.c
+++ b/drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu7_hwmgr.c
@@ -1866,7 +1866,7 @@ static int smu7_calculate_ro_range(struct pp_hwmgr *hwmgr)
 {
 	struct smu7_hwmgr *data = (struct smu7_hwmgr *)(hwmgr->backend);
 	struct amdgpu_device *adev = hwmgr->adev;
-	uint32_t asicrev1, evv_revision, max, min;
+	uint32_t asicrev1, evv_revision, max = 0, min = 0;
 
 	atomctrl_read_efuse(hwmgr, STRAP_EVV_REVISION_LSB, STRAP_EVV_REVISION_MSB,
 			&evv_revision);
@@ -1903,8 +1903,7 @@ static int smu7_calculate_ro_range(struct pp_hwmgr *hwmgr)
 				max = 2500;
 			}
 		}
-	} else if ((hwmgr->chip_id == CHIP_POLARIS11) ||
-		   (hwmgr->chip_id == CHIP_POLARIS12)) {
+	} else {
 		min = 1100;
 		max = 2100;
 	}
-- 
2.25.1

