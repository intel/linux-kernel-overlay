From 8985d65fa71457b9a378c51cab90bf067d3a5160 Mon Sep 17 00:00:00 2001
From: Daniele Alessandrelli <daniele.alessandrelli@intel.com>
Date: Mon, 9 Mar 2020 17:01:36 +0000
Subject: [PATCH 100/223] keembay-vpu-ipc-test: Remove incorrect __init__
 modifier

__init__ is incorrectly used for a function that is used while the
module is loaded. Remove it.

Signed-off-by: Daniele Alessandrelli <daniele.alessandrelli@intel.com>
---
 drivers/firmware/keembay-vpu-ipc-test.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/firmware/keembay-vpu-ipc-test.c b/drivers/firmware/keembay-vpu-ipc-test.c
index 44eaad05a6b0..c85e842906f3 100644
--- a/drivers/firmware/keembay-vpu-ipc-test.c
+++ b/drivers/firmware/keembay-vpu-ipc-test.c
@@ -69,7 +69,7 @@ static const struct file_operations test_fw_name_fops = {
 	.release		= single_release,
 };
 
-static int __init intel_keembay_vpu_ipc_test_send_data(struct device *dev)
+static int intel_keembay_vpu_ipc_test_send_data(struct device *dev)
 {
 	int ret;
 	int close_ret;
@@ -218,7 +218,6 @@ static int test_vpu_thread_fn(void *data)
 		pr_info("VPU test FAILED for %s: %d\n", dev_name(vpu_dev), rc);
 	else
 		pr_info("VPU test SUCCESSFUL for %s\n", dev_name(vpu_dev));
-	/* Leave channel open. */
 	do_exit(rc);
 }
 
-- 
2.27.0

