From 3e5b1e75620806c574c82f303a3715f1eea34bbb Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Tue, 6 Sep 2022 07:43:36 +0800
Subject: [PATCH 57/60] Revert "drm/i915/selftests: fix a couple IS_ERR() vs
 NULL tests"

This reverts commit 636e5dbaf097aaf66b6234f0b10598d44ccc8a87.
---
 drivers/gpu/drm/i915/gt/selftest_lrc.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/gpu/drm/i915/gt/selftest_lrc.c b/drivers/gpu/drm/i915/gt/selftest_lrc.c
index 35d55f98a06f5..95d41c01d0e04 100644
--- a/drivers/gpu/drm/i915/gt/selftest_lrc.c
+++ b/drivers/gpu/drm/i915/gt/selftest_lrc.c
@@ -4788,8 +4788,8 @@ static int live_lrc_layout(void *arg)
 			continue;
 
 		hw = shmem_pin_map(engine->default_state);
-		if (!hw) {
-			err = -ENOMEM;
+		if (IS_ERR(hw)) {
+			err = PTR_ERR(hw);
 			break;
 		}
 		hw += LRC_STATE_OFFSET / sizeof(*hw);
@@ -4965,8 +4965,8 @@ static int live_lrc_fixed(void *arg)
 			continue;
 
 		hw = shmem_pin_map(engine->default_state);
-		if (!hw) {
-			err = -ENOMEM;
+		if (IS_ERR(hw)) {
+			err = PTR_ERR(hw);
 			break;
 		}
 		hw += LRC_STATE_OFFSET / sizeof(*hw);
-- 
2.25.1

