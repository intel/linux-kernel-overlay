From c6df179bceb385aa2f247eb5ddc7cf0628178156 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Thu, 29 Sep 2022 02:40:30 +0800
Subject: [PATCH 07/22] Revert "drm/radeon: add a force flush to delay work
 when radeon"

This reverts commit 826b46fd5974113515abe9e4fc8178009a8ce18c.
---
 drivers/gpu/drm/radeon/radeon_device.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/gpu/drm/radeon/radeon_device.c b/drivers/gpu/drm/radeon/radeon_device.c
index 8287410f471fb..266e3cbbd09bd 100644
--- a/drivers/gpu/drm/radeon/radeon_device.c
+++ b/drivers/gpu/drm/radeon/radeon_device.c
@@ -1623,9 +1623,6 @@ int radeon_suspend_kms(struct drm_device *dev, bool suspend,
 		if (r) {
 			/* delay GPU reset to resume */
 			radeon_fence_driver_force_completion(rdev, i);
-		} else {
-			/* finish executing delayed work */
-			flush_delayed_work(&rdev->fence_drv[i].lockup_work);
 		}
 	}
 
-- 
2.25.1

