From ea8d3b11cbba768e220787a6e786a32abe2dbe43 Mon Sep 17 00:00:00 2001
From: Junxiao Chang <junxiao.chang@intel.com>
Date: Wed, 1 Mar 2023 15:07:52 +0800
Subject: [PATCH 083/128] drm/i915/mtl: initialize local parameters in phy
 clock api

this change is to fix uninitialized multiplier and tx clock
divisor issue.

Fixes: 45eccc3db3e13c ("drm/i915/mtl: C20 port clock calculation")
Signed-off-by: Junxiao Chang <junxiao.chang@intel.com>
---
 drivers/gpu/drm/i915/display/intel_cx0_phy.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/i915/display/intel_cx0_phy.c b/drivers/gpu/drm/i915/display/intel_cx0_phy.c
index 1568b3e60d0b..15cc0e145e87 100644
--- a/drivers/gpu/drm/i915/display/intel_cx0_phy.c
+++ b/drivers/gpu/drm/i915/display/intel_cx0_phy.c
@@ -2065,7 +2065,7 @@ int intel_c20pll_calc_port_clock(struct intel_encoder *encoder,
 				 const struct intel_c20pll_state *pll_state)
 {
 	unsigned int frac_quot = 0, frac_rem = 0, frac_den = 1;
-	unsigned int multiplier, tx_clk_div, refclk = 38400;
+	unsigned int multiplier = 0, tx_clk_div = 0, refclk = 38400;
 
 	if (pll_state->mpllb[6] & C20_MPLLB_FRACEN) {
 		frac_quot = pll_state->mpllb[8];
-- 
2.25.1

