From bd6e18b1966afb3b6b9474e40f86056d235f0cac Mon Sep 17 00:00:00 2001
From: Linus Walleij <linus.walleij@linaro.org>
Date: Mon, 3 Jan 2022 12:38:21 +0100
Subject: [PATCH 1004/2251] drm/panel: nt35560: Support more panel IDs

These IDs were found in the wild in a Sony Xperia vendor tree.

Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
Acked-by: Sam Ravnborg <sam@ravnborg.org>
Link: https://patchwork.freedesktop.org/patch/msgid/20220103113822.654592-2-linus.walleij@linaro.org
---
 drivers/gpu/drm/panel/panel-novatek-nt35560.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/panel/panel-novatek-nt35560.c b/drivers/gpu/drm/panel/panel-novatek-nt35560.c
index 620876225384..498f17581690 100644
--- a/drivers/gpu/drm/panel/panel-novatek-nt35560.c
+++ b/drivers/gpu/drm/panel/panel-novatek-nt35560.c
@@ -32,13 +32,14 @@
 /*
  * Sony seems to use vendor ID 0x81
  */
-#define DISPLAY_SONY_ACX424AKP_ID1	0x811b
+#define DISPLAY_SONY_ACX424AKP_ID1	0x8103
 #define DISPLAY_SONY_ACX424AKP_ID2	0x811a
+#define DISPLAY_SONY_ACX424AKP_ID3	0x811b
 /*
- * The third ID looks like a bug, vendor IDs begin at 0x80
+ * The fourth ID looks like a bug, vendor IDs begin at 0x80
  * and panel 00 ... seems like default values.
  */
-#define DISPLAY_SONY_ACX424AKP_ID3	0x8000
+#define DISPLAY_SONY_ACX424AKP_ID4	0x8000
 
 struct nt35560 {
 	struct drm_panel panel;
@@ -225,6 +226,7 @@ static int nt35560_read_id(struct nt35560 *nt)
 	case DISPLAY_SONY_ACX424AKP_ID1:
 	case DISPLAY_SONY_ACX424AKP_ID2:
 	case DISPLAY_SONY_ACX424AKP_ID3:
+	case DISPLAY_SONY_ACX424AKP_ID4:
 		dev_info(nt->dev, "MTP vendor: %02x, version: %02x, panel: %02x\n",
 			 vendor, version, panel);
 		break;
-- 
2.25.1

