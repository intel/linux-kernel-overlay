From 4cec94d167e0bc9cd23229e1175e72fbe41975e7 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Mon, 4 Apr 2022 01:55:32 +0800
Subject: [PATCH 02/18] Revert "drm/amdgpu: fix suspend/resume hang regression"

This reverts commit 6828da5dea530f4743ecdef89f90cc117dfe3cee.
---
 drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c
index 635601d8b131..47cc038d7d50 100644
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_vm.c
@@ -724,8 +724,7 @@ bool amdgpu_vm_ready(struct amdgpu_vm *vm)
 	amdgpu_vm_eviction_lock(vm);
 	ret = !vm->evicting;
 	amdgpu_vm_eviction_unlock(vm);
-
-	return ret && list_empty(&vm->evicted);
+	return ret;
 }
 
 /**
-- 
2.27.0

