From e1e8c2fdc72367e69407998a63c7595f65d36965 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Wed, 10 Mar 2021 12:16:19 +0800
Subject: [PATCH 01/55] Revert "drm/amd/amdgpu: add error handling to
 amdgpu_virt_read_pf2vf_data"

This reverts commit 4b73f01d5ebde3409df1206727fb2fd20fefe7cf.
---
 drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c
index e7678ba8fdcf..d0aea5e39531 100644
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c
@@ -558,14 +558,10 @@ static int amdgpu_virt_write_vf2pf_data(struct amdgpu_device *adev)
 void amdgpu_virt_update_vf2pf_work_item(struct work_struct *work)
 {
 	struct amdgpu_device *adev = container_of(work, struct amdgpu_device, virt.vf2pf_work.work);
-	int ret;
 
-	ret = amdgpu_virt_read_pf2vf_data(adev);
-	if (ret)
-		goto out;
+	amdgpu_virt_read_pf2vf_data(adev);
 	amdgpu_virt_write_vf2pf_data(adev);
 
-out:
 	schedule_delayed_work(&(adev->virt.vf2pf_work), adev->virt.vf2pf_update_interval_ms);
 }
 
-- 
2.25.1

