From c6169147055bfc817d864a88aabf2dc06d0e9cc5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ville=20Syrj=C3=A4l=C3=A4?= <ville.syrjala@linux.intel.com>
Date: Fri, 15 Jul 2022 23:20:39 +0300
Subject: [PATCH 118/800] drm/i915: Document the sets of bits in the driver
 features block
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Add a few comment documenting the sets of bits in the driver
features block. Might make it a bit easier to check against
the spec.

Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20220715202044.11153-8-ville.syrjala@linux.intel.com
Reviewed-by: Jani Nikula <jani.nikula@intel.com>
---
 drivers/gpu/drm/i915/display/intel_vbt_defs.h | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/drivers/gpu/drm/i915/display/intel_vbt_defs.h b/drivers/gpu/drm/i915/display/intel_vbt_defs.h
index f376d4194491..133e6029ecb4 100644
--- a/drivers/gpu/drm/i915/display/intel_vbt_defs.h
+++ b/drivers/gpu/drm/i915/display/intel_vbt_defs.h
@@ -542,6 +542,7 @@ struct bdb_psr {
 #define BDB_DRIVER_FEATURE_INT_SDVO_LVDS	3
 
 struct bdb_driver_features {
+	/* Driver bits */
 	u8 boot_dev_algorithm:1;
 	u8 block_display_switch:1;
 	u8 allow_display_switch:1;
@@ -556,6 +557,7 @@ struct bdb_driver_features {
 	u8 boot_mode_bpp;
 	u8 boot_mode_refresh;
 
+	/* Extended Driver Bits 1 */
 	u16 enable_lfp_primary:1;
 	u16 selective_mode_pruning:1;
 	u16 dual_frequency:1;
@@ -571,6 +573,7 @@ struct bdb_driver_features {
 	u16 tv_hotplug:1;
 	u16 hdmi_config:2;
 
+	/* Driver Flags 1 */
 	u8 static_display:1;					/* 163+ */
 	u8 reserved2:7;
 
@@ -578,8 +581,12 @@ struct bdb_driver_features {
 	u16 legacy_crt_max_y;
 	u8 legacy_crt_max_refresh;
 
+	/* Extended Driver Bits 2 */
 	u8 hdmi_termination;
+
 	u8 custom_vbt_version;					/* 155+ */
+
+	/* Driver Feature Flags */
 	u16 rmpm_enabled:1;					/* 165+ */
 	u16 s2ddt_enabled:1;					/* 165+ */
 	u16 dpst_enabled:1;					/* 165-227 */
-- 
2.25.1

