From e67739ab2ef1fdea7488b056fd7abd8eb53c037f Mon Sep 17 00:00:00 2001
From: Junxiao Chang <junxiao.chang@intel.com>
Date: Thu, 6 Jul 2023 15:01:18 +0800
Subject: [PATCH 0035/2351] Revert "drm/i915: add null pointer protection
 inside intel_fbdev_hpd_set_suspend"

This reverts commit 56fdf8e6124f7ee618ca66c9d48ae54845bb89bf.
---
 drivers/gpu/drm/i915/display/intel_fbdev.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/gpu/drm/i915/display/intel_fbdev.c b/drivers/gpu/drm/i915/display/intel_fbdev.c
index 38c0657076658..fc8016f172259 100644
--- a/drivers/gpu/drm/i915/display/intel_fbdev.c
+++ b/drivers/gpu/drm/i915/display/intel_fbdev.c
@@ -625,9 +625,6 @@ static void intel_fbdev_hpd_set_suspend(struct drm_i915_private *i915, int state
 	struct intel_fbdev *ifbdev = i915->display.fbdev.fbdev;
 	bool send_hpd = false;
 
-	if (!ifbdev)
-		return;
-
 	mutex_lock(&ifbdev->hpd_lock);
 	ifbdev->hpd_suspended = state == FBINFO_STATE_SUSPENDED;
 	send_hpd = !ifbdev->hpd_suspended && ifbdev->hpd_waiting;
-- 
2.25.1

