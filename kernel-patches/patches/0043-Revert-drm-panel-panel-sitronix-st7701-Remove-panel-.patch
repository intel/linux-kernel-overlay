From be5e8dacde7c942472dc12c4bb3cedb60bf88e7e Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Mon, 6 Feb 2023 10:14:35 +0800
Subject: [PATCH 43/45] Revert "drm/panel/panel-sitronix-st7701: Remove panel
 on DSI attach failure"

This reverts commit 576828e59a0e03bbc763872912b04f3e3a1b3311.
---
 drivers/gpu/drm/panel/panel-sitronix-st7701.c | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

diff --git a/drivers/gpu/drm/panel/panel-sitronix-st7701.c b/drivers/gpu/drm/panel/panel-sitronix-st7701.c
index cd9f01940b173..4d2a149b202cb 100644
--- a/drivers/gpu/drm/panel/panel-sitronix-st7701.c
+++ b/drivers/gpu/drm/panel/panel-sitronix-st7701.c
@@ -384,15 +384,7 @@ static int st7701_dsi_probe(struct mipi_dsi_device *dsi)
 	st7701->dsi = dsi;
 	st7701->desc = desc;
 
-	ret = mipi_dsi_attach(dsi);
-	if (ret)
-		goto err_attach;
-
-	return 0;
-
-err_attach:
-	drm_panel_remove(&st7701->panel);
-	return ret;
+	return mipi_dsi_attach(dsi);
 }
 
 static int st7701_dsi_remove(struct mipi_dsi_device *dsi)
-- 
2.25.1

