From 1f583d4657f5f0859aafaf8b2333d2079030cbc9 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Sun, 20 Nov 2022 20:21:00 +0800
Subject: [PATCH 36/56] Revert "drm/udl: Restore display mode on resume"

This reverts commit 0a129790893b765bef4ba02fcdeb73cbc56d5b99.
---
 drivers/gpu/drm/udl/udl_modeset.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/gpu/drm/udl/udl_modeset.c b/drivers/gpu/drm/udl/udl_modeset.c
index 209b5ceba3e0..edcfd8c120c4 100644
--- a/drivers/gpu/drm/udl/udl_modeset.c
+++ b/drivers/gpu/drm/udl/udl_modeset.c
@@ -400,6 +400,9 @@ udl_simple_display_pipe_enable(struct drm_simple_display_pipe *pipe,
 
 	udl_handle_damage(fb, 0, 0, fb->width, fb->height);
 
+	if (!crtc_state->mode_changed)
+		return;
+
 	/* enable display */
 	udl_crtc_write_mode_to_hw(crtc);
 }
-- 
2.25.1

