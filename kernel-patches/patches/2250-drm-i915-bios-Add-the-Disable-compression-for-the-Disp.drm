From 90e4dade59d5d3378c8391cb468ee4b29290b3f7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ville=20Syrj=C3=A4l=C3=A4?= <ville.syrjala@linux.intel.com>
Date: Wed, 7 Sep 2022 12:35:34 +0300
Subject: [PATCH 2250/2779] drm/i915/bios: Add the "Disable compression for the
 Display Port/HDMI external display" bit
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The child device block has gained a new bit for disabling
compression for external displays. Seems stupid, but there it is.

Signed-off-by: Ville Syrjälä <ville.syrjala@linux.intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20220907093534.29004-2-ville.syrjala@linux.intel.com
Reviewed-by: Jani Nikula <jani.nikula@intel.com>
---
 drivers/gpu/drm/i915/display/intel_vbt_defs.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/i915/display/intel_vbt_defs.h b/drivers/gpu/drm/i915/display/intel_vbt_defs.h
index 6119fb035357..a9f44abfc9fc 100644
--- a/drivers/gpu/drm/i915/display/intel_vbt_defs.h
+++ b/drivers/gpu/drm/i915/display/intel_vbt_defs.h
@@ -418,7 +418,8 @@ struct child_device_config {
 			u8 compression_method_cps:1;		/* 198+ */
 			u8 ganged_edp:1;			/* 202+ */
 			u8 lttpr_non_transparent:1;		/* 235+ */
-			u8 reserved2:3;
+			u8 disable_compression_for_ext_disp:1;	/* 251+ */
+			u8 reserved2:2;
 			u8 compression_structure_index:4;	/* 198+ */
 			u8 reserved3:4;
 			u8 hdmi_max_frl_rate:4;			/* 237+ */
-- 
2.25.1

