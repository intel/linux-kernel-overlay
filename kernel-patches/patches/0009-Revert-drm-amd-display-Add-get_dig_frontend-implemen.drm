From df96c36e01d8348e79c9f7fa4eee778a7568cba1 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Mon, 18 Jan 2021 12:31:42 +0800
Subject: [PATCH 9/9] Revert "drm/amd/display: Add get_dig_frontend
 implementation for DCEx"

This reverts commit 8b8a688260b4ad39832d3fce790f2b53f1f3e535.
---
 .../drm/amd/display/dc/dce/dce_link_encoder.c | 44 +------------------
 .../drm/amd/display/dc/dce/dce_link_encoder.h |  2 -
 2 files changed, 2 insertions(+), 44 deletions(-)

diff --git a/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c b/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c
index 210466b2d863..b409f6b2bfd8 100644
--- a/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c
+++ b/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c
@@ -119,8 +119,7 @@ static const struct link_encoder_funcs dce110_lnk_enc_funcs = {
 	.disable_hpd = dce110_link_encoder_disable_hpd,
 	.is_dig_enabled = dce110_is_dig_enabled,
 	.destroy = dce110_link_encoder_destroy,
-	.get_max_link_cap = dce110_link_encoder_get_max_link_cap,
-	.get_dig_frontend = dce110_get_dig_frontend,
+	.get_max_link_cap = dce110_link_encoder_get_max_link_cap
 };
 
 static enum bp_result link_transmitter_control(
@@ -236,44 +235,6 @@ static void set_link_training_complete(
 
 }
 
-unsigned int dce110_get_dig_frontend(struct link_encoder *enc)
-{
-	struct dce110_link_encoder *enc110 = TO_DCE110_LINK_ENC(enc);
-	u32 value;
-	enum engine_id result;
-
-	REG_GET(DIG_BE_CNTL, DIG_FE_SOURCE_SELECT, &value);
-
-	switch (value) {
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGA:
-		result = ENGINE_ID_DIGA;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGB:
-		result = ENGINE_ID_DIGB;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGC:
-		result = ENGINE_ID_DIGC;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGD:
-		result = ENGINE_ID_DIGD;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGE:
-		result = ENGINE_ID_DIGE;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGF:
-		result = ENGINE_ID_DIGF;
-		break;
-	case DCE110_DIG_FE_SOURCE_SELECT_DIGG:
-		result = ENGINE_ID_DIGG;
-		break;
-	default:
-		// invalid source select DIG
-		result = ENGINE_ID_UNKNOWN;
-	}
-
-	return result;
-}
-
 void dce110_link_encoder_set_dp_phy_pattern_training_pattern(
 	struct link_encoder *enc,
 	uint32_t index)
@@ -1704,8 +1665,7 @@ static const struct link_encoder_funcs dce60_lnk_enc_funcs = {
 	.disable_hpd = dce110_link_encoder_disable_hpd,
 	.is_dig_enabled = dce110_is_dig_enabled,
 	.destroy = dce110_link_encoder_destroy,
-	.get_max_link_cap = dce110_link_encoder_get_max_link_cap,
-	.get_dig_frontend = dce110_get_dig_frontend
+	.get_max_link_cap = dce110_link_encoder_get_max_link_cap
 };
 
 void dce60_link_encoder_construct(
diff --git a/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.h b/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.h
index fc6ade824c23..cb714a48b171 100644
--- a/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.h
+++ b/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.h
@@ -295,8 +295,6 @@ void dce110_link_encoder_connect_dig_be_to_fe(
 	enum engine_id engine,
 	bool connect);
 
-unsigned int dce110_get_dig_frontend(struct link_encoder *enc);
-
 void dce110_link_encoder_set_dp_phy_pattern_training_pattern(
 	struct link_encoder *enc,
 	uint32_t index);
-- 
2.25.1

