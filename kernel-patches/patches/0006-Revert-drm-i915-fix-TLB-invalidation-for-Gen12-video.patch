From 523b982cf00aa152f7209319c5ccbdcfcfbda364 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Wed, 28 Dec 2022 01:01:35 +0800
Subject: [PATCH 06/28] Revert "drm/i915: fix TLB invalidation for Gen12 video
 and compute engines"

This reverts commit 86f0082fb9470904b15546726417f28077088fee.
---
 drivers/gpu/drm/i915/gt/intel_gt.c | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/drivers/gpu/drm/i915/gt/intel_gt.c b/drivers/gpu/drm/i915/gt/intel_gt.c
index 5f86d9aacb8a3..a33887f2464fa 100644
--- a/drivers/gpu/drm/i915/gt/intel_gt.c
+++ b/drivers/gpu/drm/i915/gt/intel_gt.c
@@ -745,10 +745,6 @@ void intel_gt_invalidate_tlbs(struct intel_gt *gt)
 		if (!i915_mmio_reg_offset(rb.reg))
 			continue;
 
-		if (INTEL_GEN(i915) == 12 && (engine->class == VIDEO_DECODE_CLASS ||
-		    engine->class == VIDEO_ENHANCEMENT_CLASS))
-			rb.bit = _MASKED_BIT_ENABLE(rb.bit);
-
 		intel_uncore_write_fw(uncore, rb.reg, rb.bit);
 	}
 
-- 
2.25.1

