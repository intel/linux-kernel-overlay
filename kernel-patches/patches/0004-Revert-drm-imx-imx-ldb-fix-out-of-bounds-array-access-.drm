From b4e8970df4db504eb0551261f7f9000c7045038b Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Thu, 22 Apr 2021 13:14:07 +0800
Subject: [PATCH 4/4] Revert "drm/imx: imx-ldb: fix out of bounds array access
 warning"

This reverts commit 870c8df1d192142c1289f38c9278b6b48442f927.
---
 drivers/gpu/drm/imx/imx-ldb.c | 10 ----------
 1 file changed, 10 deletions(-)

diff --git a/drivers/gpu/drm/imx/imx-ldb.c b/drivers/gpu/drm/imx/imx-ldb.c
index 75036aaa0c63..41e2978cb1eb 100644
--- a/drivers/gpu/drm/imx/imx-ldb.c
+++ b/drivers/gpu/drm/imx/imx-ldb.c
@@ -190,11 +190,6 @@ static void imx_ldb_encoder_enable(struct drm_encoder *encoder)
 	int dual = ldb->ldb_ctrl & LDB_SPLIT_MODE_EN;
 	int mux = drm_of_encoder_active_port_id(imx_ldb_ch->child, encoder);
 
-	if (mux < 0 || mux >= ARRAY_SIZE(ldb->clk_sel)) {
-		dev_warn(ldb->dev, "%s: invalid mux %d\n", __func__, mux);
-		return;
-	}
-
 	drm_panel_prepare(imx_ldb_ch->panel);
 
 	if (dual) {
@@ -253,11 +248,6 @@ imx_ldb_encoder_atomic_mode_set(struct drm_encoder *encoder,
 	int mux = drm_of_encoder_active_port_id(imx_ldb_ch->child, encoder);
 	u32 bus_format = imx_ldb_ch->bus_format;
 
-	if (mux < 0 || mux >= ARRAY_SIZE(ldb->clk_sel)) {
-		dev_warn(ldb->dev, "%s: invalid mux %d\n", __func__, mux);
-		return;
-	}
-
 	if (mode->clock > 170000) {
 		dev_warn(ldb->dev,
 			 "%s: mode exceeds 170 MHz pixel clock\n", __func__);
-- 
2.25.1

