From 63f061cf74bfccdf171e275da85dc6251cc53070 Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Thu, 29 Sep 2022 02:40:30 +0800
Subject: [PATCH 05/22] Revert "drm/i915: Implement WaEdpLinkRateDataReload"

This reverts commit de572edecc2965b924a3f75b2f09017a3ea07ca9.
---
 .../drm/i915/display/intel_dp_link_training.c | 22 -------------------
 1 file changed, 22 deletions(-)

diff --git a/drivers/gpu/drm/i915/display/intel_dp_link_training.c b/drivers/gpu/drm/i915/display/intel_dp_link_training.c
index 261a5e97a0b4a..f2c8b56be9ead 100644
--- a/drivers/gpu/drm/i915/display/intel_dp_link_training.c
+++ b/drivers/gpu/drm/i915/display/intel_dp_link_training.c
@@ -163,28 +163,6 @@ intel_dp_link_training_clock_recovery(struct intel_dp *intel_dp)
 	intel_dp_compute_rate(intel_dp, intel_dp->link_rate,
 			      &link_bw, &rate_select);
 
-	/*
-	 * WaEdpLinkRateDataReload
-	 *
-	 * Parade PS8461E MUX (used on varius TGL+ laptops) needs
-	 * to snoop the link rates reported by the sink when we
-	 * use LINK_RATE_SET in order to operate in jitter cleaning
-	 * mode (as opposed to redriver mode). Unfortunately it
-	 * loses track of the snooped link rates when powered down,
-	 * so we need to make it re-snoop often. Without this high
-	 * link rates are not stable.
-	 */
-	if (!link_bw) {
-		struct intel_connector *connector = intel_dp->attached_connector;
-		__le16 sink_rates[DP_MAX_SUPPORTED_RATES];
-
-		drm_dbg_kms(&i915->drm, "[CONNECTOR:%d:%s] Reloading eDP link rates\n",
-			    connector->base.base.id, connector->base.name);
-
-		drm_dp_dpcd_read(&intel_dp->aux, DP_SUPPORTED_LINK_RATES,
-				 sink_rates, sizeof(sink_rates));
-	}
-
 	if (link_bw)
 		drm_dbg_kms(&i915->drm,
 			    "Using LINK_BW_SET value %02x\n", link_bw);
-- 
2.25.1

