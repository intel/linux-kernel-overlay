From fbab2a89ec7a92683540fea5aba2a3d1434a86ec Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Tue, 19 Jul 2022 14:49:45 +0800
Subject: [PATCH 18/62] Revert "gma500: fix an incorrect NULL check on list
 iterator"

This reverts commit 591c3481b13fa6d5d03819e90539fa442c6ed2d2.
---
 drivers/gpu/drm/gma500/psb_intel_display.c | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/drivers/gpu/drm/gma500/psb_intel_display.c b/drivers/gpu/drm/gma500/psb_intel_display.c
index bd3df5adb96f..531c5485be17 100644
--- a/drivers/gpu/drm/gma500/psb_intel_display.c
+++ b/drivers/gpu/drm/gma500/psb_intel_display.c
@@ -536,15 +536,14 @@ void psb_intel_crtc_init(struct drm_device *dev, int pipe,
 
 struct drm_crtc *psb_intel_get_crtc_from_pipe(struct drm_device *dev, int pipe)
 {
-	struct drm_crtc *crtc;
+	struct drm_crtc *crtc = NULL;
 
 	list_for_each_entry(crtc, &dev->mode_config.crtc_list, head) {
 		struct gma_crtc *gma_crtc = to_gma_crtc(crtc);
-
 		if (gma_crtc->pipe == pipe)
-			return crtc;
+			break;
 	}
-	return NULL;
+	return crtc;
 }
 
 int gma_connector_clones(struct drm_device *dev, int type_mask)
-- 
2.27.0

