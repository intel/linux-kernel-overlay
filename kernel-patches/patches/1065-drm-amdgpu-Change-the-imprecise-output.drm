From e0c1a837d7d68db8650c8fc49bcd12d2d668c181 Mon Sep 17 00:00:00 2001
From: Roy Sun <Roy.Sun@amd.com>
Date: Thu, 22 Jul 2021 13:55:42 +0800
Subject: [PATCH 1065/1423] drm/amdgpu: Change the imprecise output

The fail reason is that the vfgate is disabled

Signed-off-by: Roy Sun <Roy.Sun@amd.com>
Reviewed-by: Peng Ju Zhou <PengJu.Zhou@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
---
 drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
index 6c1f33464849..4e074b4a1dc9 100644
--- a/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/gfx_v10_0.c
@@ -56,7 +56,7 @@
 #define GFX10_NUM_GFX_RINGS_Sienna_Cichlid	1
 #define GFX10_MEC_HPD_SIZE	2048
 
-#define RLCG_INTERFACE_NOT_ENABLED	0x4000000
+#define RLCG_VFGATE_DISABLED	0x4000000
 #define RLCG_WRONG_OPERATION_TYPE	0x2000000
 #define RLCG_NOT_IN_RANGE	0x1000000
 
@@ -1571,8 +1571,8 @@ static u32 gfx_v10_rlcg_rw(struct amdgpu_device *adev, u32 offset, u32 v, uint32
 
 		if (i >= retries) {
 			if (RLCG_ERROR_REPORT_ENABLED(adev)) {
-				if (tmp & RLCG_INTERFACE_NOT_ENABLED)
-					pr_err("The interface is not enabled, program reg:0x%05x failed!\n", offset);
+				if (tmp & RLCG_VFGATE_DISABLED)
+					pr_err("The vfgate is disabled, program reg:0x%05x failed!\n", offset);
 				else if (tmp & RLCG_WRONG_OPERATION_TYPE)
 					pr_err("Wrong operation type, program reg:0x%05x failed!\n", offset);
 				else if (tmp & RLCG_NOT_IN_RANGE)
-- 
2.27.0

