From 46e9c7316ea8aa8451a5e101b608e6ad9b001f60 Mon Sep 17 00:00:00 2001
From: Junxiao Chang <junxiao.chang@intel.com>
Date: Wed, 12 Jun 2024 20:30:31 +0800
Subject: [PATCH 28/30] drm/i915/iov: fix i915 sriov build issue

including necessary header file.

Signed-off-by: Junxiao Chang <junxiao.chang@intel.com>
---
 drivers/gpu/drm/i915/gt/iov/intel_iov_debugfs.c   | 1 +
 drivers/gpu/drm/xe/compat-i915-headers/i915_drv.h | 2 ++
 2 files changed, 3 insertions(+)

diff --git a/drivers/gpu/drm/i915/gt/iov/intel_iov_debugfs.c b/drivers/gpu/drm/i915/gt/iov/intel_iov_debugfs.c
index 884a39815d03..f201eb1364b8 100644
--- a/drivers/gpu/drm/i915/gt/iov/intel_iov_debugfs.c
+++ b/drivers/gpu/drm/i915/gt/iov/intel_iov_debugfs.c
@@ -4,6 +4,7 @@
  */
 
 #include <drm/drm_print.h>
+#include <linux/debugfs.h>
 
 #include "gt/intel_gt_debugfs.h"
 #include "gt/intel_gt.h"
diff --git a/drivers/gpu/drm/xe/compat-i915-headers/i915_drv.h b/drivers/gpu/drm/xe/compat-i915-headers/i915_drv.h
index 2feedddf1e40..218bc6ed0c14 100644
--- a/drivers/gpu/drm/xe/compat-i915-headers/i915_drv.h
+++ b/drivers/gpu/drm/xe/compat-i915-headers/i915_drv.h
@@ -26,6 +26,8 @@ static inline struct drm_i915_private *kdev_to_i915(struct device *kdev)
 	return dev_get_drvdata(kdev);
 }
 
+#define IS_SRIOV_VF(i915) false
+
 #define IS_PLATFORM(xe, x) ((xe)->info.platform == x)
 #define INTEL_INFO(dev_priv)	(&((dev_priv)->info))
 #define IS_I830(dev_priv)	(dev_priv && 0)
-- 
2.25.1

